<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ› ï¸ Constructor de Laberintos</title>
    <link rel="stylesheet" href="css/constructor.css">
</head>
<body>
    <header>
        <h1>ğŸ› ï¸ Constructor de Juegos de Laberinto</h1>
        <p>Crea tu propio juego de laberinto personalizado</p>
    </header>

    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>

    <main class="constructor-container">
        <div class="config-panel">
            <!-- ConfiguraciÃ³n BÃ¡sica -->
            <div class="section">
                <h3>âš™ï¸ ConfiguraciÃ³n BÃ¡sica</h3>
                <div class="input-group">
                    <label for="playerSpeed">Velocidad del Jugador: <span id="playerSpeedValue">120</span></label>
                    <input type="range" id="playerSpeed" min="60" max="300" value="120" step="10" onchange="onConfigChange()">
                </div>
                <div class="input-group">
                    <label for="cameraScale">Escala de CÃ¡mara: <span id="cameraScaleValue">4</span></label>
                    <input type="range" id="cameraScale" min="2" max="8" value="4" step="1" onchange="onConfigChange()">
                </div>
            </div>

            <!-- TamaÃ±os de Laberinto -->
            <div class="section">
                <h3>ğŸ“ TamaÃ±os de Laberinto</h3>
                <div class="input-group">
                    <label for="minSize">TamaÃ±o MÃ­nimo:</label>
                    <input type="number" id="minSize" min="7" max="15" value="9" step="2" onchange="onConfigChange()">
                </div>
                <div class="input-group">
                    <label for="maxSize">TamaÃ±o MÃ¡ximo:</label>
                    <input type="number" id="maxSize" min="15" max="50" value="21" step="2" onchange="onConfigChange()">
                </div>
                <div class="input-group">
                    <label for="growthRate">Crecimiento por Nivel:</label>
                    <input type="number" id="growthRate" min="1" max="5" value="2" onchange="onConfigChange()">
                </div>
            </div>

            <!-- Poderes -->
            <div class="section">
                <h3>ğŸ¯ Poderes</h3>
                <div class="input-group">
                    <label><input type="checkbox" id="pickaxeEnabled" checked onchange="onConfigChange()"> Pico Habilitado</label>
                </div>
                <div class="input-group">
                    <label for="pickaxeStart">Nivel de Inicio del Pico:</label>
                    <input type="number" id="pickaxeStart" min="1" max="20" value="10" onchange="onConfigChange()">
                </div>
                <div class="input-group">
                    <label><input type="checkbox" id="snowballEnabled" checked onchange="onConfigChange()"> Bola de Nieve Habilitada</label>
                </div>
                <div class="input-group">
                    <label for="snowballProb">Probabilidad Bola de Nieve: <span id="snowballProbValue">80%</span></label>
                    <input type="range" id="snowballProb" min="0" max="100" value="80" step="10" onchange="onConfigChange()">
                </div>
                <div class="input-group">
                    <label><input type="checkbox" id="allyEnabled" checked onchange="onConfigChange()"> Aliado Habilitado</label>
                </div>
                <div class="input-group">
                    <label for="allyProb">Probabilidad Aliado: <span id="allyProbValue">20%</span></label>
                    <input type="range" id="allyProb" min="0" max="100" value="20" step="10" onchange="onConfigChange()">
                </div>
            </div>

            <!-- Enemigos -->
            <div class="section">
                <h3>ğŸ‘¾ Enemigos</h3>
                <div class="input-group">
                    <label><input type="checkbox" id="enemiesEnabled" checked onchange="onConfigChange()"> Enemigos Habilitados</label>
                </div>
                <div class="input-group">
                    <label for="enemyStart">Nivel de Inicio de Enemigos:</label>
                    <input type="number" id="enemyStart" min="10" max="30" value="15" onchange="onConfigChange()">
                </div>
                <div class="input-group">
                    <label for="enemyInterval">Intervalo de Movimiento: <span id="enemyIntervalValue">1.0s</span></label>
                    <input type="range" id="enemyInterval" min="0.5" max="3" value="1" step="0.1" onchange="onConfigChange()">
                </div>
                <div class="input-group">
                    <label for="enemyMoveChance">Probabilidad de Movimiento: <span id="enemyMoveChanceValue">70%</span></label>
                    <input type="range" id="enemyMoveChance" min="30" max="100" value="70" step="10" onchange="onConfigChange()">
                </div>
            </div>

            <!-- Complejidad -->
            <div class="section">
                <h3>ğŸ§© Complejidad del Laberinto</h3>
                <div class="input-group">
                    <label for="complexityStart">Nivel de Inicio de Complejidad:</label>
                    <input type="number" id="complexityStart" min="1" max="15" value="6" onchange="onConfigChange()">
                </div>
                <div class="input-group">
                    <label for="deadEndIntensity">Intensidad Callejones: <span id="deadEndIntensityValue">30%</span></label>
                    <input type="range" id="deadEndIntensity" min="0" max="100" value="30" step="10" onchange="onConfigChange()">
                </div>
                <div class="input-group">
                    <label for="falsePathIntensity">Intensidad Rutas Falsas: <span id="falsePathIntensityValue">20%</span></label>
                    <input type="range" id="falsePathIntensity" min="0" max="100" value="20" step="10" onchange="onConfigChange()">
                </div>
            </div>

            <!-- ProgresiÃ³n -->
            <div class="section">
                <h3>ğŸ ProgresiÃ³n del Juego</h3>
                <div class="input-group">
                    <label><input type="checkbox" id="endLevelEnabled" onchange="onConfigChange()"> Nivel Final Habilitado</label>
                </div>
                <div class="input-group">
                    <label for="endLevel">Nivel Final:</label>
                    <input type="number" id="endLevel" min="10" max="100" value="50" disabled onchange="onConfigChange()">
                </div>
                <div class="input-group">
                    <label><input type="checkbox" id="infiniteMode" checked onchange="onConfigChange()"> Modo Infinito</label>
                </div>
            </div>

            <!-- Presets -->
            <div class="section">
                <h3>ğŸ® Configuraciones Predefinidas</h3>
                <div class="preset-buttons">
                    <button onclick="loadPreset('easy')">ğŸ˜Š FÃ¡cil</button>
                    <button onclick="loadPreset('normal')">ğŸ˜ Normal</button>
                    <button onclick="loadPreset('hard')">ğŸ˜° DifÃ­cil</button>
                    <button onclick="loadPreset('extreme')">ğŸ’€ Extremo</button>
                </div>
            </div>
        </div>

        <div class="actions-panel">
            <div class="main-actions">
                <button id="btnGenerateConfig" class="btn-primary" onclick="generateConfig()">ğŸ“„ Generar ConfiguraciÃ³n</button>
                <button id="btnTestGame" class="btn-success disabled" onclick="testGame()" disabled>ğŸ® Probar Juego</button>
                <button id="btnBuildGame" class="btn-build disabled" onclick="buildGame()" disabled>ğŸš€ Construir Juego</button>
                <button id="btnExportConfig" class="btn-secondary" onclick="exportConfig()">ğŸ’¾ Exportar JSON</button>
                <button id="btnImportConfig" class="btn-secondary" onclick="importConfig()">ğŸ“‚ Importar</button>
            </div>

            <div class="config-output">
                <h4>ğŸ“‹ ConfiguraciÃ³n Generada:</h4>
                <textarea id="configOutput" placeholder="La configuraciÃ³n JSON aparecerÃ¡ aquÃ­..."></textarea>
                <div class="output-actions">
                    <button onclick="copyConfig()">ğŸ“‹ Copiar</button>
                    <button onclick="saveConfig()">ğŸ’¾ Guardar</button>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>ğŸ¯ Constructor de Laberintos por <strong>EExau</strong> - Powered by LittleJS</p>
        <p>VersiÃ³n 2.3 - 2025</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="js/constructor.js"></script>
    <script src="js/game_builder.js"></script>
</body>
</html> 