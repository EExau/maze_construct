<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🛠️ Constructor de Laberintos</title>
    <link rel="stylesheet" href="css/constructor.css">
</head>
<body>
    <header>
        <h1>🛠️ Constructor de Juegos de Laberinto</h1>
        <p>Crea tu propio juego de laberinto personalizado</p>
    </header>

    <main class="constructor-container">
        <div class="config-panel">
            <!-- Configuración Básica -->
            <div class="section">
                <h3>⚙️ Configuración Básica</h3>
                <div class="input-group">
                    <label for="playerSpeed">Velocidad del Jugador: <span id="playerSpeedValue">120</span></label>
                    <input type="range" id="playerSpeed" min="60" max="300" value="120" step="10">
                </div>
                <div class="input-group">
                    <label for="cameraScale">Escala de Cámara: <span id="cameraScaleValue">4</span></label>
                    <input type="range" id="cameraScale" min="2" max="8" value="4" step="1">
                </div>
            </div>

            <!-- Tamaños de Laberinto -->
            <div class="section">
                <h3>📏 Tamaños de Laberinto</h3>
                <div class="input-group">
                    <label for="minSize">Tamaño Mínimo:</label>
                    <input type="number" id="minSize" min="7" max="15" value="9" step="2">
                </div>
                <div class="input-group">
                    <label for="maxSize">Tamaño Máximo:</label>
                    <input type="number" id="maxSize" min="15" max="50" value="21" step="2">
                </div>
                <div class="input-group">
                    <label for="growthRate">Crecimiento por Nivel:</label>
                    <input type="number" id="growthRate" min="1" max="5" value="2">
                </div>
            </div>

            <!-- Poderes -->
            <div class="section">
                <h3>🎯 Poderes</h3>
                <div class="input-group">
                    <label><input type="checkbox" id="pickaxeEnabled" checked> Pico Habilitado</label>
                </div>
                <div class="input-group">
                    <label for="pickaxeStart">Nivel de Inicio del Pico:</label>
                    <input type="number" id="pickaxeStart" min="1" max="20" value="10">
                </div>
                <div class="input-group">
                    <label><input type="checkbox" id="snowballEnabled" checked> Bola de Nieve Habilitada</label>
                </div>
                <div class="input-group">
                    <label for="snowballProb">Probabilidad Bola de Nieve: <span id="snowballProbValue">80%</span></label>
                    <input type="range" id="snowballProb" min="0" max="100" value="80" step="10">
                </div>
                <div class="input-group">
                    <label><input type="checkbox" id="allyEnabled" checked> Aliado Habilitado</label>
                </div>
                <div class="input-group">
                    <label for="allyProb">Probabilidad Aliado: <span id="allyProbValue">20%</span></label>
                    <input type="range" id="allyProb" min="0" max="100" value="20" step="10">
                </div>
            </div>

            <!-- Enemigos -->
            <div class="section">
                <h3>👾 Enemigos</h3>
                <div class="input-group">
                    <label><input type="checkbox" id="enemiesEnabled" checked> Enemigos Habilitados</label>
                </div>
                <div class="input-group">
                    <label for="enemyStart">Nivel de Inicio de Enemigos:</label>
                    <input type="number" id="enemyStart" min="10" max="30" value="15">
                </div>
                <div class="input-group">
                    <label for="enemyInterval">Intervalo de Movimiento: <span id="enemyIntervalValue">1.0s</span></label>
                    <input type="range" id="enemyInterval" min="0.5" max="3" value="1" step="0.1">
                </div>
                <div class="input-group">
                    <label for="enemyMoveChance">Probabilidad de Movimiento: <span id="enemyMoveChanceValue">70%</span></label>
                    <input type="range" id="enemyMoveChance" min="30" max="100" value="70" step="10">
                </div>
            </div>

            <!-- Complejidad -->
            <div class="section">
                <h3>🧩 Complejidad del Laberinto</h3>
                <div class="input-group">
                    <label for="complexityStart">Nivel de Inicio de Complejidad:</label>
                    <input type="number" id="complexityStart" min="1" max="15" value="6">
                </div>
                <div class="input-group">
                    <label for="deadEndIntensity">Intensidad Callejones: <span id="deadEndIntensityValue">30%</span></label>
                    <input type="range" id="deadEndIntensity" min="0" max="100" value="30" step="10">
                </div>
                <div class="input-group">
                    <label for="falsePathIntensity">Intensidad Rutas Falsas: <span id="falsePathIntensityValue">20%</span></label>
                    <input type="range" id="falsePathIntensity" min="0" max="100" value="20" step="10">
                </div>
            </div>

            <!-- Progresión -->
            <div class="section">
                <h3>🏁 Progresión del Juego</h3>
                <div class="input-group">
                    <label><input type="checkbox" id="endLevelEnabled"> Nivel Final Habilitado</label>
                </div>
                <div class="input-group">
                    <label for="endLevel">Nivel Final:</label>
                    <input type="number" id="endLevel" min="10" max="100" value="50" disabled>
                </div>
                <div class="input-group">
                    <label><input type="checkbox" id="infiniteMode" checked> Modo Infinito</label>
                </div>
            </div>

            <!-- Presets -->
            <div class="section">
                <h3>🎮 Configuraciones Predefinidas</h3>
                <div class="preset-buttons">
                    <button onclick="loadPreset('easy')">😊 Fácil</button>
                    <button onclick="loadPreset('normal')">😐 Normal</button>
                    <button onclick="loadPreset('hard')">😰 Difícil</button>
                    <button onclick="loadPreset('extreme')">💀 Extremo</button>
                </div>
            </div>
        </div>

        <div class="actions-panel">
            <div class="main-actions">
                <button class="btn-primary" onclick="generateConfig()">📄 Generar Configuración</button>
                <button class="btn-success" onclick="testGame()">🎮 Probar Juego</button>
                <button class="btn-build" onclick="buildGame()">🚀 Construir Juego</button>
                <button class="btn-secondary" onclick="exportConfig()">💾 Exportar JSON</button>
                <button class="btn-secondary" onclick="importConfig()">📂 Importar</button>
            </div>

            <div class="config-output">
                <h4>📋 Configuración Generada:</h4>
                <textarea id="configOutput" placeholder="La configuración JSON aparecerá aquí..."></textarea>
                <div class="output-actions">
                    <button onclick="copyConfig()">📋 Copiar</button>
                    <button onclick="saveConfig()">💾 Guardar</button>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>🎯 Constructor de Laberintos - Powered by LittleJS</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="js/constructor.js"></script>
    <script src="js/game_builder.js"></script>
</body>
</html> 